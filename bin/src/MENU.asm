INCLUDE MACRO.ASM

EXTRN _DISPLAY_STRING:FAR
EXTRN _SAVE_BLOCK:FAR
EXTRN _RESTORE_BLOCK:FAR
EXTRN _WRITE_BLOCK_PIXEL:FAR

;
PUBLIC _INIT_FRAME
PUBLIC _PRINT_FILE_OPTION
PUBLIC _PRINT_GRAPH_OPTION
PUBLIC _PRINT_COLOR_OPTION
PUBLIC _PRINT_HELP_OPTION

;
EXTRN _DRAW_MOUSE:FAR

;
PUBLIC FILE_CLICK,GRAPH_CLICK,COLOR_CLICK,HELP_CLICK
GLOBAL SEGMENT PUBLIC
	EXTRN ON_LEFT_CLICK:WORD, ON_RIGHT_CLICK:WORD
	EXTRN CUR_X:WORD, CUR_Y:WORD
	EXTRN PRE_X:WORD, PRE_X:WORD
	EXTRN BUF:BYTE, MOUSE_BUF:BYTE
	FILE_CLICK   DB      00H
	GRAPH_CLICK  DB      00H
	COLOR_CLICK  DB      00H
	HELP_CLICK   DB      00H
	EXTRN DRAW_TYPE:BYTE,DRAW_COLOR:BYTE
GLOBAL ENDS

;
DATA SEGMENT
	S_FILE 		DB 		'FILE'
	S_NEW  		DB 		' NEW  '
	S_OPEN 		DB 		' OPEN '
	S_SAVE 		DB 		' SAVE '
	S_QUIT 		DB 		' QUIT '
	S_GRAPH     DB 		'GRAPH'
	S_LINE 		DB 		' LINE     '
	S_POLYLINE  DB      ' POLYLINE '
	S_CIRCLE 	DB 		' CIRCLE   '
	S_ARC 		DB 		' ARC      '
	S_ELLIPSE 	DB 		' ELLIPSE  '
	S_COLOR		DB 		'COLOR'
	S_RED 		DB 		' RED   '
	S_GREEN		DB 		' GREEN '
	S_BLUE 		DB 		' BLUE  '
	S_HELP 		DB 		'HELP'
	S_ABOUT		DB 		' ABOUT '
DATA ENDS

CODE SEGMENT
	ASSUME CS:CODE,DS:DATA

;画菜单栏
_PRINT_MENU_BAR PROC NEAR
	__DISPLAY_STRING 1,10,DATA,S_FILE, 4,09H
	__DISPLAY_STRING 1,20,DATA,S_GRAPH,5,09H
	__DISPLAY_STRING 1,30,DATA,S_COLOR,5,09H
	__DISPLAY_STRING 1,40,DATA,S_HELP, 4,09H	
	RET
_PRINT_MENU_BAR ENDP

;  文件下拉菜单
_PRINT_FILE_OPTION PROC FAR
	__DISPLAY_STRING 1,10,DATA,S_FILE, 4,0EH
	__DISPLAY_STRING 2,9,DATA,S_NEW, 6,0FH
	__DISPLAY_STRING 3,9,DATA,S_OPEN,6,0FH
	__DISPLAY_STRING 4,9,DATA,S_SAVE,6,0FH
	__DISPLAY_STRING 5,9,DATA,S_QUIT,6,0FH
	RET
_PRINT_FILE_OPTION ENDP
;  图形下拉菜单   
_PRINT_GRAPH_OPTION PROC FAR
	__DISPLAY_STRING 1,20,DATA,S_GRAPH,   5, 0EH
	__DISPLAY_STRING 2,19,DATA,S_LINE,    10,0FH
	__DISPLAY_STRING 3,19,DATA,S_POLYLINE,10,0FH
	__DISPLAY_STRING 4,19,DATA,S_CIRCLE,  10,0FH
	__DISPLAY_STRING 5,19,DATA,S_ARC,     10,0FH
	__DISPLAY_STRING 6,19,DATA,S_ELLIPSE, 10,0FH
	RET
_PRINT_GRAPH_OPTION ENDP
;  颜色下拉菜单
_PRINT_COLOR_OPTION PROC FAR
	__DISPLAY_STRING 1,30,DATA,S_COLOR, 5,0EH
	__DISPLAY_STRING 2,29,DATA,S_RED,   7,0FH
	__DISPLAY_STRING 3,29,DATA,S_GREEN, 7,0FH
	__DISPLAY_STRING 4,29,DATA,S_BLUE,  7,0FH
	RET
_PRINT_COLOR_OPTION ENDP
;
_PRINT_HELP_OPTION PROC FAR
	__DISPLAY_STRING 1,40,DATA,S_HELP, 4,0EH
	__DISPLAY_STRING 2,39,DATA,S_ABOUT, 7,0FH
	RET
_PRINT_HELP_OPTION ENDP


;初始化界面 
_INIT_FRAME PROC FAR
	__FILL 0,0,0,79,  02H          ;;画边框
	__FILL 29,0,29,79,02H          ;;
	__FILL 1,0,28,0,  02H          ;;
	__FILL 1,79,28,79,02H          ;;
	__FILL 1,67,28,67,02H          ;;
	__FILL 2,1,28,66, 0FH         ;;画白板
	
	CALL _PRINT_MENU_BAR
	__DISPLAY_DRAW_COLOR 
	__DISPLAY_DRAW_TYPE
	;CALL _PRINT_FILE_OPTION
	;CALL _PRINT_GRAPH_OPTION
	;CALL _PRINT_COLOR_OPTION
	;CALL _PRINT_HELP_OPTION
	RET
_INIT_FRAME ENDP

CODE ENDS
END
